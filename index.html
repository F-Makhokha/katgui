<!DOCTYPE html>
<html ng-app="katGui">
<head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link href="bower_components/angular-material/angular-material.css" rel="stylesheet" type="text/css">
    <link href="bower_components/angular-material/themes/indigo-theme.css" rel="stylesheet" type="text/css">
    <link href="bower_components/angular-material/themes/blue-theme.css" rel="stylesheet" type="text/css">
    <link href="bower_components/angular-material/themes/light-blue-dark-theme.css" rel="stylesheet" type="text/css">
    <link href="app/app.less" type="text/css" rel="stylesheet/less">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
    <link href="bower_components/angular-dashboard-framework/dist/angular-dashboard-framework.min.css" rel="stylesheet"
          type="text/css">
    <link href="bower_components/angular-gantt/assets/gantt.css" rel="stylesheet" type="text/css">
    <link href="bower_components/angular-bootstrap-datetimepicker/src/css/datetimepicker.css" rel="stylesheet"
          type="text/css">

    <!-- build:css fonts/fontawesome.css -->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
    <!-- endbuild -->
</head>

<!-- Place this asynchronous JavaScript just before your </body> tag -->
<!--<script type="text/javascript">-->
<!--(function () {-->
<!--var po = document.createElement('script');-->
<!--po.type = 'text/javascript';-->
<!--po.async = true;-->
<!--po.src = 'https://apis.google.com/js/client:plusone.js';-->
<!--var s = document.getElementsByTagName('script')[0];-->
<!--s.parentNode.insertBefore(po, s);-->
<!--})();-->
<!--</script>-->

<body ng-controller="ApplicationCtrl" md-theme="indigo">

<!-- Livereload script for development only (stripped during dist build) -->
<script src="http://localhost:35729/livereload.js" data-concat="false"></script>

<script src="bower_components/jquery/jquery.js"></script>
<script src="bower_components/jquery-ui/ui/jquery.ui.core.js"></script>
<script src="bower_components/jquery-ui/ui/jquery.ui.widget.js"></script>
<script src="bower_components/jquery-ui/ui/jquery.ui.mouse.js"></script>
<script src="bower_components/jquery-ui/ui/jquery.ui.sortable.js"></script>

<!-- JS from Bower Components -->
<script src="bower_components/less.js/dist/less-1.6.2.js" data-concat="false"></script>

<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script src="bower_components/underscore/underscore.js"></script>
<script src="bower_components/moment/moment.js"></script>
<script src="bower_components/sockjs/sockjs.js"></script>

<script src="/bower_components/angular/angular.js"></script>
<script src="/bower_components/angular-aria/angular-aria.js"></script>
<script src="/bower_components/angular-animate/angular-animate.js"></script>
<script src="/bower_components/hammerjs/hammer.js"></script>
<script src="/bower_components/angular-material/angular-material.js"></script>

<script src="bower_components/angular-mocks/angular-mocks.js"></script>
<script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
<script src="bower_components/angular-resource/angular-resource.js"></script>
<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
<script src="bower_components/angular-ui-utils/ui-utils.js"></script>
<script src="bower_components/ngstorage/ngStorage.js"></script>
<script src="bower_components/angular-dashboard-framework/dist/angular-dashboard-framework.min.js"></script>
<script src="bower_components/angular-bootstrap-datetimepicker/src/js/datetimepicker.js"></script>
<script src="bower_components/angular-gantt/assets/angular-gantt.js"></script>
<!-- Add New Bower Component JS Above -->

<!-- Main App JS -->
<script src="app/app.js"></script>
<script src="app/about/about.js"></script>
<script src="app/login-form/login-form.js"></script>
<script src="app/auth/auth-service.js"></script>
<script src="app/landing/landing.js"></script>
<script src="app/weather/weather.js"></script>
<script src="app/video/video.js"></script>
<script src="app/operator-control/operator-control.js"></script>
<script src="app/util/focus-directive.js"></script>
<script src="app/util/editable-directive.js"></script>
<script src="app/data/data-service.js"></script>
<script src="app/data/monitor-service.js"></script>
<script src="app/data/control-service.js"></script>
<script src="app/health/health.js"></script>
<script src="app/auth/session-service.js"></script>
<script src="app/sensor-graph/sensor-graph.js"></script>
<script src="app/d3/d3-chart-directive.js"></script>
<script src="app/d3/d3-treemap.js"></script>
<script src="app/d3/d3-wind-rose.js"></script>
<script src="app/d3/d3-service.js"></script>
<script src="app/admin/admin.js"></script>
<script src="app/util/util.js"></script>
<script src="app/alarms/alarms.js"></script>
<script src="app/alarms/alarm-service.js"></script>
<script src="app/alarms/alarms-notify.js"></script>
<script src="app/widgets/navigation/navigation-widget.js"></script>
<script src="app/widgets/dashboard-structures.js"></script>
<script src="app/scheduler/scheduler.js"></script>
<script src="app/widgets/gantt/gantt-widget.js"></script>
<!-- Add New Component JS Above -->

<section layout="horizontal" layout-fill>
    <!--dont use md-whiteframe class because it leaves black artifacts-->
    <md-sidenav class="md-sidenav-left" component-id="left-sidenav" layout="vertical" style="box-shadow: 0px 8px 17px 1px rgba(0, 0, 0, 0.2);">
        <md-toolbar md-theme="light-blue-dark" class="md-medium-tall">
            <h1 class="md-toolbar-tools" style="padding-top:25px; padding-left: 25px; font-size: 1.5em;">katGUI</h1>
        </md-toolbar>
        <md-content class="md-content-padding">
            <md-list>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('landing') }" ng-click="sideNavStateGo('landing')">Home</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('alarms') }" ng-click="sideNavStateGo('alarms')">Alarms</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('health') }" ng-click="sideNavStateGo('health')">Health And State</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('operatorControl') }" ng-click="sideNavStateGo('operatorControl')">Operator Control</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('scheduler') }" ng-click="sideNavStateGo('scheduler')">Scheduler</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('sensorGraph') }" ng-click="sideNavStateGo('sensorGraph')">Sensor Graphs</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('video') }" ng-click="sideNavStateGo('video')">Video</button>
                </md-item>
                <!--<md-item>-->
                <!--<button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('weather') }" ng-click="sideNavStateGo('weather')">Weather</button>-->
                <!--</md-item>-->
                <!--<md-item>-->
                <!--<button ink-ripple class="menu-item">Log Reports</button>-->
                <!--</md-item>-->
                <!--<md-item>-->
                <!--<button ink-ripple class="menu-item">Source Catalogues</button>-->
                <!--</md-item>-->
                <!--<md-item>-->
                <!--<button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('admin') }" ng-click="sideNavStateGo('admin')">User Admin</button>-->
                <!--</md-item>-->
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('about') }" ng-click="sideNavStateGo('about')">About katGUI</button>
                </md-item>

            </md-list>
        </md-content>
    </md-sidenav>

    <md-sidenav class="md-sidenav-right" component-id="right-sidenav" layout="vertical" style="box-shadow: 0px 8px 17px 1px rgba(0, 0, 0, 0.2);">
        <md-toolbar md-theme="light-blue-dark" class="md-medium-tall">
            <h1 class="md-toolbar-tools" style="padding-top:25px; padding-left: 25px; font-size: 1.5em;">User Details</h1>
        </md-toolbar>
        <md-content class="md-content-padding">
            <md-list>
                <md-item>
                    <button ink-ripple class="menu-item" ng-class="{ active: isPageSelected('admin') }" ng-click="sideNavRightStateGo('admin')">User Admin</button>
                </md-item>
                <md-item>
                    <button ink-ripple class="menu-item" ng-click="logout()">Logout</button>
                </md-item>

            </md-list>
        </md-content>
    </md-sidenav>

    <section layout="vertical" flex>
        <md-toolbar ng-show="showNavbar" class="slideInVertically">
            <div class="md-toolbar-tools" layout="horizontal">

                <button class="button-toolbar-flat-icon"
                        style="margin-left: 0px; padding: 0px;"
                        ng-click="toggleLeftSidenav()">
                    <span class="fa fa-navicon"></span>
                </button>

                <div class="btn-group"
                     ng-class="{open: operatorControlHover || operatorControlMenuHover}" layout="horizontal">

                    <md-button style="height: 40px;" md-theme="blue" class="md-primary md-raised"
                               aria-label="Operator Control"
                               ng-mouseenter="operatorControlHover = true"
                               ng-mouseleave="operatorControlHover = false"
                               ng-click="operatorControlHover = false; operatorControlMenuHover = false; stateGo('operatorControl')">
                        Operator Control
                    </md-button>

                    <md-content flex style="margin: -7px -1px 0;" class="dropdown-menu"
                                ng-mouseenter="operatorControlMenuHover = true"
                                ng-mouseleave="operatorControlMenuHover = false"
                                role="menu">
                        <div md-theme="default" style="color: rgba(0,0,0,0.73)" layout="vertical">
                            <md-button ng-click="inhibitAll()">Inhibit All</md-button>
                            <md-button ng-click="stowAll()">Stow All</md-button>
                            <md-button ng-click="stopAll()">Stop All</md-button>
                            <md-button ng-click="resumeOperations()">Resume Operations</md-button>
                            <md-button disabled ng-click="shutdownComputing()">Shutdown Computing</md-button>
                        </div>
                    </md-content>

                </div>

                <span flex></span>

                <div>
                    <span class="toolbar-time-span">{{utcTime}}</span><span class="toolbar-time-span" style="font-size: 9pt;"> UTC</span><br/>
                    <span class="toolbar-time-span">{{localTime}}</span><span class="toolbar-time-span" style="font-size: 9pt;"> Local</span>
                </div>

                <button class="button-toolbar-flat-icon"
                        ng-click="stateGo('landing')"><span>Home</span>
                </button>

                <div class="alarms-warning-container">
                    <button class="unselectable button-toolbar-flat-icon navbar-btn"
                            ng-click="stateGo('alarms')">
                        <span class="fa fa-warning"></span>
                    </button>
                    <span ng-if="newAlarmWarnCount > 0"
                          class="badge alarm-badge alarm-badge-warn">{{newAlarmWarnCount}}</span>
                    <span ng-if="newAlarmErrorCount > 0"
                          class="badge alarm-badge alarm-badge-error">{{newAlarmErrorCount}}</span>
                    <span ng-if="newAlarmCritCount > 0"
                          class="badge alarm-badge alarm-badge-crit">{{newAlarmCritCount}}</span>
                </div>

                <button class="button-toolbar-flat-icon" ng-click="toggleRightSidenav()">
                    <span class="fa fa-user"></span>
                </button>
            </div>

        </md-toolbar>
        <md-content id="ui-view-container-div" ui-view flex class="md-content-padding">
        </md-content>
    </section>
</section>

<button class="unselectable toolbar-collapse-button"
        ng-click="showNavbar = !showNavbar">
    <i class="fa"
       ng-class="{ 'fa-caret-square-o-up': showNavbar,  'fa-caret-square-o-down': !showNavbar, 'toolbar-collapse-button-grey': !showNavbar}"></i>
</button>

<div style="pointer-events: none;" alarm></div>

</body>
</html>
