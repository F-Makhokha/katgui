<div flex layout="row" layout-align="center start" ng-controller="HealthCtrl as vm" style="min-width: 1100px; overflow: auto; margin-top: 4px;">
    <div class="md-whiteframe-z3 legend-popup" style="display:inline-block" layout="column" layout-align="center start">
        <md-button style="margin-right: 8px;" md-theme="{{themePrimaryButtons}}" ng-init="showLegend = true" ng-click="showLegend = !showLegend"
                   aria-label="Show Legend">
            <span ng-if="!showLegend">Show Legend</span>
            <span ng-if="showLegend">Hide Legend</span>
        </md-button>
        <div layout="column" ng-show="showLegend">
            <div layout="row" layout-align="start center"><div class="color-patch unknown-child" title="Grey"></div><span>Unknown</span></div>
            <div layout="row" layout-align="start center"><div class="color-patch nominal-child" title="Green"></div><span>Nominal</span></div>
            <div layout="row" layout-align="start center"><div class="color-patch warn-child" title="Amber"></div><span>Warn</span></div>
            <div layout="row" layout-align="start center"><div class="color-patch error-child" title="Red"></div><span>Error</span></div>
            <div layout="row" layout-align="start center"><div class="color-patch failure-child" title="Brown"></div><span>Failure</span></div>
            <div layout="row" layout-align="start center"><div class="color-patch unreachable-child" title="Pink"></div><span>Unreachable</span></div>
            <div layout="row" layout-align="start center"><div class="color-patch inactive-child" title="Blue"></div><span>Inactive</span></div>
        </div>
    </div>
    <status-single-level-tree-map flex style="display: inline-block; margin-left: 4px; margin-right:4px;" ng-repeat="tree in vm.topStatusTrees" data="tree"></status-single-level-tree-map>
</div>
